CREATE TABLE TIENDA(ID INTEGER NOT NULL PRIMARY KEY, DIRECCION VARCHAR(100) NOT NULL, PRESUPUESTO DECIMAL NOT NULL);

INSERT INTO TIENDA VALUES (1, 'Calle El Greco 50', 10000);
INSERT INTO TIENDA VALUES (2, 'Avenida Luis Montoto 25', 8000);
INSERT INTO TIENDA VALUES (3, 'Calle Alas 12', 4500);

CREATE TABLE TRABAJADOR(ID INTEGER NOT NULL PRIMARY KEY, NOMBRE VARCHAR(50) NOT NULL, APELLIDOS VARCHAR(100) NOT NULL, DNI VARCHAR(9) NOT NULL UNIQUE, FECHA_CONT DATE NOT NULL, SALARIO DECIMAL NOT NULL,ID_JEFE INTEGER, TIENDA INTEGER NOT NULL, USUARIO VARCHAR(30) NOT NULL, PASS VARCHAR(30) NOT NULL, FOTO VARCHAR(30) NOT NULL, CONSTRAINT FK_TRABAJADOR_JEFE FOREIGN KEY (ID_JEFE) REFERENCES TRABAJADOR(ID), CONSTRAINT FK_TRABAJADOR_TIENDA FOREIGN KEY (TIENDA) REFERENCES TIENDA(ID));

INSERT INTO TRABAJADOR VALUES(1, 'Alberto', 'Lopez Rodriguez', '42738623T', '2014-06-16', 2500, null, 1, 'alloro', 'alber2014', '1001.jpg');
INSERT INTO TRABAJADOR VALUES(2, 'Diego', 'Sánchez Garcia', '20676447E', '2019-09-10', 1400, 1, 1, 'disaga', 'diego2019', '1002.jpg');
INSERT INTO TRABAJADOR VALUES(3, 'Roberto', 'Rosado Aguilar', '12406219L', '2021-12-11', 2500, 1, 2, 'roroag', 'rober2021', '1004.jpg');
INSERT INTO TRABAJADOR VALUES(4, 'María', 'Rubio Lopez', '54122047B', '2018-02-25', 1600, 1, 3, 'marulo', 'maria2018', '1005.jpg');
INSERT INTO TRABAJADOR VALUES(5, 'Alba', 'Otero Blanco', '67134983F', '2021-02-01', 1500, 4, 3, 'alotbla', 'alba2021', '1007.jpg');
INSERT INTO TRABAJADOR VALUES(6, 'Sergio', 'Perez Crespo', '49778605G', '2022-01-29', 1000, 2, 1, 'sepecre', 'sergi2022', '1008.jpg');
INSERT INTO TRABAJADOR VALUES(7, 'Clara', 'Alarcon Garcia', '54391703S', '2020-06-01', 1550, 3, 2, 'clalgar', 'clara2020', '1009.jpg');
INSERT INTO TRABAJADOR VALUES(8, 'Andres', 'Pelayo Rodriguez', '56324370S', '2019-12-21', 1350, 3, 2, 'anpero', 'andre2019', '1012.jpg');

CREATE TABLE EDITORIAL(ID INTEGER NOT NULL PRIMARY KEY, NOMBRE VARCHAR(50) NOT NULL, CIF VARCHAR(9) NOT NULL UNIQUE);

INSERT INTO EDITORIAL VALUES(1, 'Alianza editorial', 'A28085223');
INSERT INTO EDITORIAL VALUES(2, 'Nova editorial', 'B79527610');
INSERT INTO EDITORIAL VALUES(3, 'Editorial Planeta SA', 'A08186249');
INSERT INTO EDITORIAL VALUES(4, 'Alfaguara Grupo editorial SL', 'B87008595');

CREATE TABLE CATEGORIA(ID INTEGER NOT NULL PRIMARY KEY, NOMBRE VARCHAR(50) NOT NULL);

INSERT INTO CATEGORIA VALUES(1, 'Fantasia');
INSERT INTO CATEGORIA VALUES(2, 'Ciencia ficcion');
INSERT INTO CATEGORIA VALUES(3, 'Comic');
INSERT INTO CATEGORIA VALUES(4, 'Suspense');

CREATE TABLE LIBRO(ID INTEGER NOT NULL PRIMARY KEY, AUTOR VARCHAR(100) NOT NULL, NOMBRE VARCHAR(50) NOT NULL, ID_EDITORIAL INTEGER NOT NULL, ISBN VARCHAR(13) NOT NULL UNIQUE, FECHA_PUB DATE NOT NULL, PRECIO DECIMAL NOT NULL, ID_CATEGORIA INTEGER NOT NULL, ID_TIENDA INTEGER NOT NULL);

ALTER TABLE LIBRO ADD CONSTRAINT FK_LIBRO_CATEGORIA FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA(ID);
ALTER TABLE LIBRO ADD CONSTRAINT FK_LIBRO_EDITORIAL FOREIGN KEY (ID_EDITORIAL) REFERENCES EDITORIAL(ID);
ALTER TABLE LIBRO ADD CONSTRAINT FK_LIBRO_TIENDA FOREIGN KEY (ID_TIENDA) REFERENCES TIENDA(ID);

INSERT INTO LIBRO VALUES(1, 'Joe Abercrombie', 'Tierras Rojas', 1, '9788491810681', '2018-08-03', 14.5, 2, 1);
INSERT INTO LIBRO VALUES(2, 'Kameron Hurley', 'Las estrellas son legion', 1, '9788491048411', '2017-11-23', 18.95, 2, 3);
INSERT INTO LIBRO VALUES(3, 'Brandon Sanderson', 'El imperio final', 2, '9788418037214', '2021-08-07', 29.90, 1, 3);
INSERT INTO LIBRO VALUES(4, 'Harold Sakuishi', 'Beck 1', 2, '9788419412430', '2022-01-12', 15.95, 3, 1);
INSERT INTO LIBRO VALUES(5, 'Todd McFarlane', 'Spawn Integral nº 10', 3, '9788411120227', '2022-06-22', 50.0, 3, 1);
INSERT INTO LIBRO VALUES(6, 'Villanelli', 'Star Wars Vader: Visiones Oscuras', 3, '9788413411811', '2020-09-06', 16.95, 3, 1);
INSERT INTO LIBRO VALUES(7, 'Joyce Carol Oates', 'Babysitter', 4, '9788420463087', '2022-06-10', 21.90, 2, 2);
INSERT INTO LIBRO VALUES(8, 'Javier Marias', 'Los dominios del lobo', 4, '9788420460338', '2021-09-09', 18.90, 4, 2);